love-pd-audio
=============

audio module for lua / love2d (win.dll/linux.so) using puredata for interactive audio manipulation/generation<br>

2012-09 ghoulsblade@schattenkind.net

* http://love2d.org
* http://puredata.info
* https://github.com/libpd/libpd

see above for licensing details since code from there was used, they all use BSD/MIT style or similar, so even binary distribution should be ok, as long as the copyright notices are included.

API
----

	require("lovepdaudio")
	function libpdhook (event,...) print("libpdhook",event,...) end
	player = lovepdaudio.CreatePureDataPlayer(path_file,path_folder or ".",delay_msec or 50,num_buffers or 4)
	while (true) do lovepdaudio.PureDataPlayer_Update(player) end
	-- most libpd_* functions from https://github.com/libpd/libpd/wiki/libpd

BUGS and ISSUES
---------------
* opening .pd files inside love2d packed zip/.love will does not work yet (physfs)
* audible chops and cLuaAudioStream::resumePlayback printed when update is not called quickly enough
* luabindings for libpd incomplete: complex message, array access, some hooks
* several audio parameters like samplerate/channels/16bits/maxbuffer/... are currently hardcoded
* it might be better to use libpd_process_short for performance if clipping isn't needed
* no microphone input
* no midi output
* no windows/linux 32/64bit binaries available for download yet -> compile from source
* no windows msvc project yet (but see Makefile for a few notes)

NOTES
-----

So far this lua module doesn't even need löve2d and can be used with pure lua.

Interfacing directly into the love audio via sounddata in love 0.8.0 will not work properly due to lack of buffering/streaming api for runtime-generated audio-data.<br>
Instead the love2d code for openal audio source with streaming will be used as basis, and a new openal-instance will be opened by the module, independent from löve, to avoid needing a modified love2d binary.<br>

PureData files should make it possible to play midi files using sampled instruments, do realtime audio-generation and modification with configurable effect pipes like reverb etc, <br>
as well as all do advanced audio feedback like modifying music dynamically based on game happenings, and using the current point in the music to customize sound effects to fit in better.<br>

Even without using the PureData part it will probably make sense to expose an api for buffered/streamed realtime data that can be generated by lua. (TODO)<br>

Porting to webplayer might be possible on firefox and maybe also chrome using the raw audio api extension, but that's low prio for now, and won't work for standard html5 audio api in other browsers. (TODO) 
* https://wiki.mozilla.org/Audio_Data_API 
* http://chromium.googlecode.com/svn/trunk/samples/audio/index.html
